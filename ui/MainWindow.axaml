<Window
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="using:WallAligner.Core"
  x:Class="WallAligner.MainWindow"
  Title="Wall Aligner"
  Icon="avares://WallAligner/WallAligner.png"
  Width="900" Height="700"
  MinWidth="800" MinHeight="600"
  Topmost="False"
  TransparencyLevelHint="Transparent"
  ExtendClientAreaToDecorationsHint="True"
  ExtendClientAreaChromeHints="PreferSystemChrome"
  ExtendClientAreaTitleBarHeightHint="32"
  Background="#CC0a0a0a"
>
  <Grid x:Name="maingrid">
    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,6,0,0" Spacing="10" ZIndex="999">
      <Border Background="#CC1a1a1a" CornerRadius="4" Padding="10,4" BorderBrush="#333" BorderThickness="1">
        <TextBlock Text="WALL ALIGNER" FontSize="11" FontWeight="Bold" VerticalAlignment="Center" Foreground="#888" LetterSpacing="1"/>
      </Border>
    </StackPanel>

    <Button x:Name="pinbtn" HorizontalAlignment="Right" VerticalAlignment="Top" Background="#CC1a1a1a" BorderBrush="#333" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,6,140,0" ToolTip.Tip="Always on top (click to toggle)" ZIndex="999" Width="28" Height="28">
      <Viewbox Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center">
        <Path x:Name="pinicon" Fill="#555" Data="M12 2C11.5 2 11 2.19 10.59 2.59L7.29 5.88L6.58 5.17L5.17 6.58L5.93 7.34C4.38 8.9 3.59 10.58 3.58 10.59C3.25 11.13 3.21 11.79 3.5 12.36L5.14 10.73L8.96 14.55L3 20.5L4.5 22L10.45 16.04L14.27 19.86L12.64 21.5C13.21 21.79 13.87 21.75 14.41 21.42C14.42 21.41 16.1 20.62 17.66 19.07L18.42 19.83L19.83 18.42L19.12 17.71L22.41 14.41C23.2 13.63 23.2 12.36 22.41 11.59L13.41 2.59C13 2.19 12.5 2 12 2Z"/>
      </Viewbox>
    </Button>

    <Grid Margin="12,40,12,12">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

      <Border x:Name="roomborder" Grid.Row="0" BorderBrush="#2a2a2a" BorderThickness="1" CornerRadius="6" Background="#01000000" Padding="0" ClipToBounds="True">
        <Panel>
          <local:RoomCanvas x:Name="roomcanvas"/>
          <Canvas x:Name="overlaycanvas" IsHitTestVisible="True"/>
        </Panel>
      </Border>

      <Border Grid.Row="1" Background="#CC1a1a1a" CornerRadius="6" Margin="0,10,0,0" Padding="12,10" BorderBrush="#333" BorderThickness="1">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
            <CheckBox x:Name="autoadjustcheck" Content="Auto-adjust height" IsChecked="True" Foreground="#aaa" FontSize="10"/>
            <CheckBox x:Name="placeontopcheck" Content="Place on top" IsChecked="False" Foreground="#aaa" FontSize="10" ToolTip.Tip="Place items at higher Y to render above other furniture"/>
          </StackPanel>

          <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
            <Button x:Name="textwriterbtn" Content="Text Writer" Background="#252525" BorderBrush="#444" BorderThickness="1" CornerRadius="6" Padding="14,6" FontSize="11" Foreground="#ddd"/>
            <Button x:Name="svgloaderbtn" Content="SVG Loader" Background="#252525" BorderBrush="#444" BorderThickness="1" CornerRadius="6" Padding="14,6" FontSize="11" Foreground="#ddd"/>
            <Button x:Name="drawerbtn" Content="Free Draw" Background="#252525" BorderBrush="#444" BorderThickness="1" CornerRadius="6" Padding="14,6" FontSize="11" Foreground="#ddd"/>

            <Border x:Name="actionseparator" Width="1" Height="20" Background="#444" Margin="8,0" IsVisible="False"/>

            <Button x:Name="clearallbtn" Content="Clear All" Background="#4a2a2a" BorderBrush="#6a3a3a" BorderThickness="1" CornerRadius="6" Padding="12,6" FontSize="11" Foreground="#ddd" IsVisible="False"/>
            <Button x:Name="sendserverbtn" Content="Send to Server" Background="#2a5a3a" BorderBrush="#3a7a4a" BorderThickness="1" CornerRadius="6" Padding="14,6" FontSize="11" Foreground="#ddd" FontWeight="SemiBold" IsVisible="False"/>
          </StackPanel>

          <Border Grid.Column="2" Background="#1a1a1a" CornerRadius="4" Padding="4,2" BorderBrush="#333" BorderThickness="1">
            <StackPanel Orientation="Horizontal" Spacing="2">
              <Button x:Name="zoomoutbtn" Width="28" Height="24" Background="Transparent" BorderThickness="0" Padding="0" CornerRadius="3" ToolTip.Tip="Zoom Out (0.5x)">
                <Viewbox Width="12" Height="12">
                  <Path Fill="#888" Data="M19,13H5V11H19V13Z"/>
                </Viewbox>
              </Button>
              <Button x:Name="zoomnormalbtn" Width="36" Height="24" Background="#333" BorderThickness="0" Padding="0" CornerRadius="3" ToolTip.Tip="Normal (1x)">
                <TextBlock x:Name="zoomlabel" Text="1x" FontSize="10" Foreground="#aaa" VerticalAlignment="Center" HorizontalAlignment="Center"/>
              </Button>
              <Button x:Name="zoominbtn" Width="28" Height="24" Background="Transparent" BorderThickness="0" Padding="0" CornerRadius="3" ToolTip.Tip="Zoom In (2x)">
                <Viewbox Width="12" Height="12">
                  <Path Fill="#888" Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
                </Viewbox>
              </Button>
            </StackPanel>
          </Border>
        </Grid>
      </Border>
    </Grid>
  </Grid>
</Window>
